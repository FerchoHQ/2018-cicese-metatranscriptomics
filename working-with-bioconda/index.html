



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://bluegenes.github.io/2018-metatranscriptomics/working-with-bioconda/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="..">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.3">
    
    
      
        <title>Bioconda - 2018 CICESE Metatranscriptomics workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#software-installation-with-bioconda" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://bluegenes.github.io/2018-metatranscriptomics" title="2018 CICESE Metatranscriptomics workshop" class="md-header-nav__button md-logo">
          
            <i class="md-icon">dns</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                2018 CICESE Metatranscriptomics workshop
              </span>
              <span class="md-header-nav__topic">
                Bioconda
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/bluegenes/2018-metatranscriptomics-workshop-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      2018-metatranscriptomics-workshop-dev
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://bluegenes.github.io/2018-metatranscriptomics" title="2018 CICESE Metatranscriptomics workshop" class="md-nav__button md-logo">
      
        <i class="md-icon">dns</i>
      
    </a>
    2018 CICESE Metatranscriptomics workshop
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/bluegenes/2018-metatranscriptomics-workshop-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      2018-metatranscriptomics-workshop-dev
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Day 1
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Day 1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cicese-cluster/" title="Cluster login" class="md-nav__link">
      Cluster login
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Bioconda
      </label>
    
    <a href="./" title="Bioconda" class="md-nav__link md-nav__link--active">
      Bioconda
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bioconda" title="What is bioconda?" class="md-nav__link">
    What is bioconda?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-problems-does-conda-and-therefore-bioconda-solve" title="What problems does conda (and therefore bioconda) solve?" class="md-nav__link">
    What problems does conda (and therefore bioconda) solve?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-conda-and-enabling-bioconda" title="Installing conda and enabling bioconda" class="md-nav__link">
    Installing conda and enabling bioconda
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#meditations-on-reproducibility-and-provenance" title="Meditations on reproducibility and provenance" class="md-nav__link">
    Meditations on reproducibility and provenance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-it-on-your-own-compute-system-laptop-or-hpc" title="Using it on your own compute system (laptop or HPC)" class="md-nav__link">
    Using it on your own compute system (laptop or HPC)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tara-sample-data/" title="TARA Sample Data" class="md-nav__link">
      TARA Sample Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../short-read-quality-control/" title="Read QC" class="md-nav__link">
      Read QC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metatranscriptome-assembly/" title="Assembly" class="md-nav__link">
      Assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metatranscriptome-evaluation/" title="Evaluation" class="md-nav__link">
      Evaluation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../count_transcriptomes/" title="Count Transcriptomes" class="md-nav__link">
      Count Transcriptomes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Day 2
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Day 2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../metatranscriptome-annotation/" title="Annotation" class="md-nav__link">
      Annotation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../read-mapping/" title="Mapping" class="md-nav__link">
      Mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sourmash-taxonomic-classification/" title="Taxonomic Classification" class="md-nav__link">
      Taxonomic Classification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anvio/" title="Visualize with anvio" class="md-nav__link">
      Visualize with anvio
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bioconda" title="What is bioconda?" class="md-nav__link">
    What is bioconda?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-problems-does-conda-and-therefore-bioconda-solve" title="What problems does conda (and therefore bioconda) solve?" class="md-nav__link">
    What problems does conda (and therefore bioconda) solve?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-conda-and-enabling-bioconda" title="Installing conda and enabling bioconda" class="md-nav__link">
    Installing conda and enabling bioconda
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#meditations-on-reproducibility-and-provenance" title="Meditations on reproducibility and provenance" class="md-nav__link">
    Meditations on reproducibility and provenance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-it-on-your-own-compute-system-laptop-or-hpc" title="Using it on your own compute system (laptop or HPC)" class="md-nav__link">
    Using it on your own compute system (laptop or HPC)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="software-installation-with-bioconda">Software Installation with Bioconda</h1>
<p>Learning objectives:
<em> learn what bioconda is
</em> understand basic <code>conda</code> commands
<em> learn how to list installed software packages 
</em> learn how to manage multiple installation environments</p>
<h2 id="what-is-bioconda">What is bioconda?</h2>
<p>See <a href="https://www.biorxiv.org/content/early/2017/10/27/207092">the bioconda paper</a> and the <a href="http://bioconda.github.io">bioconda web site</a>.</p>
<p>Bioconda is a community-enabled repository of 3,000+ bioinformatics packages, installable via the <code>conda</code> package
manager.  It consists of a set of recipes, <a href="https://github.com/bioconda/bioconda-recipes/blob/master/recipes/sourmash/meta.yaml">like this one, for sourmash</a>, that are maintained by the community.</p>
<p>It just works, and it's effin' magic!!</p>
<h2 id="what-problems-does-conda-and-therefore-bioconda-solve">What problems does conda (and therefore bioconda) solve?</h2>
<p>Conda tracks installed packages and their versions, 
and makes sure that different installed packages don't have
conflicting dependencies (we'll explain this below).</p>
<h2 id="installing-conda-and-enabling-bioconda">Installing conda and enabling bioconda</h2>
<p>Download and install miniconda in your home directory:</p>
<pre><code>cd 
curl -O -L https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh -b -p $HOME/miniconda3 #install in $HOME directory
echo export PATH=$PATH:/$HOME/miniconda3/bin &gt;&gt; ~/.bashrc


Then, run the following command (or start a new terminal session) in order to activate the conda environment:

</code></pre>

<p>source ~/.bashrc</p>
<pre><code>
Configure channels for installing software.
Note: It is important to add them in this order so that 
the priority is set correctly (that is, conda-forge is highest priority).
</code></pre>

<p>conda config --add channels defaults
conda config --add channels bioconda
conda config --add channels conda-forge</p>
<pre><code>
Try installing something:

</code></pre>

<p>conda install sourmash</p>
<pre><code>
and running it --
</code></pre>

<p>sourmash</p>
<pre><code>will produce some output. (We'll tell you more about sourmash later.)

yay!

## Using conda

Conda is a &quot;package manager&quot; or software installer. See [the full list of commands](https://conda.io/docs/commands.html).

`conda install` to install a package.

`conda list` to list installed packages.

`conda search` to search packages. Note that you'll see one package for every version of the software and for every version of Python (e.g. `conda search sourmash`).

## Using bioconda

bioconda is a channel for conda, which just means that you
can &quot;add&quot; it to conda as a source of packages. That's what the `conda config` above does.

Note, Bioconda supports only 64-bit Linux and Mac OSX.

You can check out [the bioconda site](https://bioconda.github.io/).

### Finding bioconda packages

You can use `conda search`, or you can use google, or you can go visit [the list of recipes](https://bioconda.github.io/recipes.html#recipes).

### Freezing an environment

This will save the list of **conda-installed** software you have in a particular
environment to the file `packages.txt`:
</code></pre>

<p>conda list --export packages.txt</p>
<pre><code>(it will not record the software versions for software not installed by conda.)

</code></pre>

<p>conda install --file=packages.txt</p>
<pre><code>will install those packages in your local environment.

### Constructing and using multiple environments

A feature that we do not use much here, but that can be very
handy in some circumstances, is different environments.

&quot;Environments&quot; are multiple different collections of installed software. There are two reasons you might want to do this:

* first, you might want to try to exactly replicate a specific software install, so that you can replicate a paper or an old condition.
* second, you might be working with incompatible software, e.g. sometimes different software pipelines need different version of the same software. An example of this is older bioinformatics software that needs python2, while other software needs python3.

To create a new environment named `pony`, type:

</code></pre>

<p>conda create -n pony</p>
<pre><code>
Then to activate (switch to) that environment, type:

</code></pre>

<p>source activate pony</p>
<pre><code>
And now when you run `conda install`, it will install packages into this new environment, e.g.
</code></pre>

<p>conda install -y checkm-genome</p>
<pre><code>(note here that checkm-genome *requires* python 2).

To list environments, type:
</code></pre>

<p>conda env list</p>
<pre><code>and you will see that you have two environments, `base` and
`pony`, and `pony` has a `*` next to it because that's your
current environment.

And finally, to switch back to your base environment, do:

</code></pre>

<p>source activate base
```
and you'll be back in the original environment.</p>
<h3 id="meditations-on-reproducibility-and-provenance">Meditations on reproducibility and provenance</h3>
<p>If you want to impress reviewers and also keep track of
what your software versions are, you can:</p>
<ul>
<li>manage all your software inside of conda</li>
<li>use <code>conda list --export software.txt</code> to create a list of all your software and put it in your supplementary material.</li>
</ul>
<p>This is also something that you can record for yourself, so that if you are trying to exactly reproduce </p>
<h3 id="using-it-on-your-own-compute-system-laptop-or-hpc">Using it on your own compute system (laptop or HPC)</h3>
<p>conda works on Windows, Mac, and Linux.</p>
<p>bioconda works on Mac and Linux.</p>
<p>It does not require admin privileges to install, so you can
install it on your own local cluster quite easily.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../cicese-cluster/" title="Cluster login" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Cluster login
              </span>
            </div>
          </a>
        
        
          <a href="../tara-sample-data/" title="TARA Sample Data" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                TARA Sample Data
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="http://ivory.idyll.org/lab/">Lab for Data Intensive Biology</a> at UC Davis
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.e72fd936.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../search/main.js"></script>
      
    
    
      
    
  </body>
</html>